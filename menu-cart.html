<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Cart</title>
    <link rel="stylesheet" href="styles.css">
    <style>
       
       .item img {
    width: 200px;
    height: 200px; 
    object-fit: cover;
    margin-top: 10px;
    margin-right: 20px;
    border-radius: 8px;
}

        .item-content {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 20px;
}

/* .left-cart {
    flex: 0 0 auto;
    margin-right: 20px;
} */

.left-cart img {
    max-width: 100px;
    max-height: 100px;
    object-fit: cover;
    border-radius: 8px;
}

.right-cart h3 {
    margin-bottom: 5px;
    font-size: 18px;
}

.right-cart p {
    color: #888;
}

        .count {
            margin-left: 100px;
        }

        .count button {
            background-color: #025697; 
            color: #fff;
            border: none;
            padding: 10px;
            border-radius: 50%;
            margin: 0 15px;
            cursor: pointer;
        }

        .count button.add {
            background-color: #FBAC08; 
        }

        .cart-buttons {
            display: flex;
            flex-direction: column;
            justify-content: center;
            margin: 10px auto ;
            width: 15%;
        }

        .cart-buttons button {
            background-color: #025697 ;
            font-weight: bold;
            border-radius: 10px;
            color: #fff;
            border: none;
            padding: 10px 20px;
            margin: 10px 10px;
            cursor: pointer;
        }
        .total {
            margin-top: 20px;
        }

        .total p {
            margin-bottom: 0; 
            font-weight: bold;
        }

      
        .delete{
            background-color: #fff;
            color: #000000;
            font-size: larger;
            margin-left: 170px;
            border: none;
        }
    </style>
     
</head>
<body>
    <nav>
        <div class="nav-left">
            <a href="restaurant-page.html"><img src="src/et.png" alt="Restaurant Icon" class="restaurant-icon"></a> 
        </div>
        <div class="nav-right" id="navLinks">
          <img
            src="src/cancel icon.png"
            alt="cancel icon"
            class="cancelIcon"
            onclick="hideMenu()"
          />
          <a href="menu.html" class="nav-link">Menu</a>
          <a href="reservation.html" class="nav-link">Reservation</a>
          <a href="menu-cart.html" class="text"
            ><img
              src="src/Menu Cart.png"
              alt="Cart Icon"
              class="language-icon"
            />Cart</a
          >
        </div>
        <img
          src="src/menu icon.png"
          alt="hamburger menu"
          class="icon"
          onclick="showMenu()"
        />
      </nav>

    <header>
        <h1>Your Cart</h1>
        <hr>
        <p>Total Items: <span id="totalItems">1</span></p>
    </header>
     <hr>
    <main>
        <div id="cartItems"></div>

        <div class="total">
            <p>Total Price: $<span id="totalPrice">0.00</span></p>
        </div>

        <div class="cart-buttons">
            <button onclick="addItem()">Add More to Cart</button>
            <button onclick="reserveNow()">Reserve Now</button>
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
            const cartContainer = document.getElementById('cartItems');

            let totalItems = 1;
            let totalPrice = 0;

            cartItems.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.classList.add('item');

                const itemDetails = document.createElement('div');
                itemDetails.classList.add('item-details');
                itemDetails.innerHTML = `
                <button class="delete" onclick="deleteItem()">X</button>
                    <br>
                    
                    <div class="item-content">
                    <div class="left-cart">
                        <img src="${item.image}" alt="${item.name}" class="item-img">  
                    </div>
                    <div class="right-cart">
                        <h3>${item.name}</h3>
                        <p>Price: ${item.price}</p>
                    </div>
                    </div>
                    <div class="count">
                        <button class="remove" onclick="decreaseCount()">-</button>
                        <span class="itemCount"></span>
                        <span class="individualCount">1</span>
                        <button class="add" onclick="increaseCount()">+</button>
                    </div>
                    <br>
                    <hr>
                `;
                cartItem.appendChild(itemDetails);

                totalPrice += parseFloat(item.price); // Ensure price is parsed to float

                document.getElementById('cartItems').appendChild(cartItem);
            });

            updateCart(); // Call to ensure initial values are set correctly
        });

    

        let totalPrice = 0;

function increaseCount(price) {
    const individualCountSpan = event.target.parentNode.querySelector('.individualCount');
    const itemCountSpan = document.getElementById('totalItems');

    const individualCount = parseInt(individualCountSpan.textContent) + 1;
    const itemCount = parseInt(itemCountSpan.textContent) + 1;

    individualCountSpan.textContent = individualCount;
    itemCountSpan.textContent = itemCount;
    totalPrice += parseFloat(price);

    updateCart();
}

function decreaseCount(price) {
    const individualCountSpan = event.target.parentNode.querySelector('.individualCount');
    const itemCountSpan = document.getElementById('totalItems');

    let individualCount = parseInt(individualCountSpan.textContent);
    let itemCount = parseInt(itemCountSpan.textContent);

    if (individualCount > 1) {
        individualCount--;
        itemCount--;
        individualCountSpan.textContent = individualCount;
        itemCountSpan.textContent = itemCount;
        totalPrice -= parseFloat(price);
        updateCart();
    }
}

function updateCart() {
    const totalPriceElement = document.getElementById('totalPrice');
    totalPriceElement.textContent = totalPrice.toFixed(2);
}

function deleteItem() {
    const item = event.target.parentNode.parentNode;
    const itemPrice = parseFloat(item.querySelector('p').textContent.split(':')[1].trim()); // Extract price from item
    const individualCount = parseInt(item.querySelector('.individualCount').textContent);

    totalPrice -= individualCount * itemPrice;
    totalItems=0

    item.remove();
    updateCart();
    localStorage.clear();
}

function addItem() {
    window.location.href = 'menu.html';
}

function reserveNow() {
    window.location.href = 'reservation.html';
}

    </script>

  <!------------------------------ Footer ------------------------------->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-logo">
        <img src="src/footer.png" alt="Your Company Logo">
      </div>
      <div class="footer-links">
        <ul>
          <li><a href="#"><b>CONTACT US</b></a></li>
          <li><a href="#">info@eatTrek.com</a></li>
          <li><a href="#">123-456-7890</a></li>
          
        </ul>
      

      <ul>
        <li><a href="#"><b>ABOUT US</b></a></li>
        <li><a href="#">FQA's</a></li>
        <li><a href="#">Privacy Policies</a></li>
        <li><a href="#">Terms of Service</a></li>
        <li><a href="#">Help</a></li>
      </ul>
    

    <ul>
      <li><a href="#">Subscribe to our newsletter</a></li>
      <li><a href="#">Download Our App</a></li>
      <li><a href="#">Accessibilty</a></li>
      <li><a href="#">Career</a></li>
      <li><a href="#">Blog</a></li>
    </ul>
  </div>
 
      <hr>
      <div class="footer-info">
        <div class="social-media">
          <a>
            <img src="src/instagram.png" alt="">
          </a>

      
          <a>
            <img src="src/facebook.png" alt="">
          </a>


          <a>
            <img src="src/twitter.png" alt="">
          </a>

          
          <a>
            <img src="src/linkedIn.png" alt="">
          </a>

          <a>
            <img src="src/youtube.png" alt="">
          </a>
        </div>
        <p>Â© 2023 eatTrek, All rights reserved</p>
      </div>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>
